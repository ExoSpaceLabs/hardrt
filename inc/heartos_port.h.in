/* SPDX-License-Identifier: Apache-2.0 */
/* Auto-generated by CMake. Do not edit. */
#ifndef HEARTOS_PORT_H
#define HEARTOS_PORT_H

/**
 * @brief Compile-time selected port identity macros and runtime accessors.
 * @note Generated by CMake based on -DHEARTOS_PORT. Use the runtime functions
 *       when you need to query the active port from the application code.
 */

#define HEARTOS_PORT_STRING "@HEARTOS_PORT_STRING@"  /**< Human-readable port name */
#define HEARTOS_PORT_ID     @HEARTOS_PORT_ID@        /**< Numeric port id */

#if HEARTOS_PORT_ID == 0
  #define HEARTOS_PORT_NULL 1     /**< Null/stub port selected */
#elif HEARTOS_PORT_ID == 1
  #define HEARTOS_PORT_POSIX 1    /**< POSIX thread-based port selected */
#elif HEARTOS_PORT_ID == 2
  #define HEARTOS_PORT_CORTEX_M 1 /**< ARM Cortex-M port selected */
#endif

#ifdef __cplusplus
extern "C" {
#endif

/**
 * @brief Get the active port name (same as HEARTOS_PORT_STRING).
 * @return Port name string.
 */
const char* hrt_port_name(void);

/**
 * @brief Get the active port numeric id (same as HEARTOS_PORT_ID).
 * @return Port id integer.
 */
int         hrt_port_id(void);

/**
 * @brief Enter a short critical section for kernel updates.
 * @note On POSIX port, masks preemption/tick; on null port, it may be a no-op.
 */
void hrt_port_crit_enter(void);

/**
 * @brief Exit the critical section previously entered.
 */
void hrt_port_crit_exit(void);

#ifdef __cplusplus
}
#endif

#endif
